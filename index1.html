<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoMax Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/styles.css">
</head>
<body class="bg-gray-100">
  <header class="bg-blue-600 text-white p-4">
    <nav class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold">AutoMax Hub</h1>
      <div id="nav-links">
        <button id="show-login" class="px-4 py-2 hover:bg-blue-700">Login</button>
        <button id="show-register" class="px-4 py-2 hover:bg-blue-700">Register</button>
        <button id="show-cars" class="px-4 py-2 hover:bg-blue-700 hidden">View Cars</button>
        <button id="show-propose-trade" class="px-4 py-2 hover:bg-blue-700 hidden">Propose Trade</button>
        <button id="show-payment" class="px-4 py-2 hover:bg-blue-700 hidden">Make Payment</button>
        <button id="show-analytics" class="px-4 py-2 hover:bg-blue-700 hidden">Analytics</button>
        <button id="logout" class="px-4 py-2 hover:bg-blue-700 hidden">Logout</button>
      </div>
    </nav>
  </header>

  <main class="container mx-auto p-4">
    <div id="error-message" class="hidden text-red-600 mb-4"></div>

    <!-- Login Form -->
    <section id="login-section" class="mb-8">
      <h2 class="text-xl font-semibold mb-4">Login</h2>
      <form id="login-form" class="space-y-4">
        <div>
          <label for="login-username" class="block">Username</label>
          <input type="text" id="login-username" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="login-password" class="block">Password</label>
          <input type="password" id="login-password" class="w-full p-2 border rounded" required>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Login</button>
      </form>
    </section>

    <!-- Register Form -->
    <section id="register-section" class="mb-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Register</h2>
      <form id="register-form" class="space-y-4">
        <div>
          <label for="register-username" class="block">Username</label>
          <input type="text" id="register-username" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="register-full-name" class="block">Full Name</label>
          <input type="text" id="register-full-name" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="register-email" class="block">Email</label>
          <input type="email" id="register-email" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="register-phone" class="block">Phone Number (Optional)</label>
          <input type="text" id="register-phone" class="w-full p-2 border rounded">
        </div>
        <div>
          <label for="register-password" class="block">Password</label>
          <input type="password" id="register-password" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="register-role" class="block">Role</label>
          <select id="register-role" class="w-full p-2 border rounded" required>
            <option value="Client">Client</option>
            <option value="Dealer">Dealer</option>
            <option value="Admin">Admin</option>
          </select>
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Register</button>
      </form>
    </section>

    <!-- Car Listings -->
    <section id="cars-section" class="mb-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Available Cars</h2>
      <table class="w-full border-collapse border">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Model</th>
            <th class="border p-2">Year</th>
            <th class="border p-2">Engine Size</th>
            <th class="border p-2">Fuel Type</th>
            <th class="border p-2">Owner</th>
          </tr>
        </thead>
        <tbody id="cars-table-body"></tbody>
      </table>
    </section>

    <!-- Propose Trade -->
    <section id="propose-trade-section" class="mb-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Propose Trade</h2>
      <form id="propose-trade-form" class="space-y-4">
        <div>
          <label for="my-car-id" class="block">Your Car ID</label>
          <input type="number" id="my-car-id" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="target-car-id" class="block">Target Car ID</label>
          <input type="number" id="target-car-id" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="cash-top-up" class="block">Cash Top-Up (Optional)</label>
          <input type="number" id="cash-top-up" class="w-full p-2 border rounded" step="0.01">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Propose Trade</button>
      </form>
    </section>

    <!-- Record Payment -->
    <section id="payment-section" class="mb-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Record Payment</h2>
      <form id="payment-form" class="space-y-4">
        <div>
          <label for="trade-id" class="block">Trade ID</label>
          <input type="number" id="trade-id" class="w-full p-2 border rounded" required>
        </div>
        <div>
          <label for="amount" class="block">Amount</label>
          <input type="number" id="amount" class="w-full p-2 border rounded" step="0.01" required>
        </div>
        <div>
          <label for="payment-method" class="block">Payment Method</label>
          <select id="payment-method" class="w-full p-2 border rounded" required>
            <option value="mpesa">M-Pesa</option>
            <option value="bank_transfer">Bank Transfer</option>
            <option value="crypto">Cryptocurrency</option>
          </select>
        </div>
        <div>
          <label for="transaction-id" class="block">Transaction ID (Optional)</label>
          <input type="text" id="transaction-id" class="w-full p-2 border rounded">
        </div>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Submit Payment</button>
      </form>
    </section>

    <!-- Analytics (Admin Only) -->
    <section id="analytics-section" class="mb-8 hidden">
      <h2 class="text-xl font-semibold mb-4">Trade Analytics</h2>
      <button id="fetch-analytics" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mb-4">Fetch Most Traded Models</button>
      <table class="w-full border-collapse border">
        <thead>
          <tr class="bg-gray-200">
            <th class="border p-2">Car Model</th>
            <th class="border p-2">Trade Count</th>
          </tr>
        </thead>
        <tbody id="analytics-table-body"></tbody>
      </table>
    </section>
  </main>

  <script src="/app.js"></script>
</body>
</html>